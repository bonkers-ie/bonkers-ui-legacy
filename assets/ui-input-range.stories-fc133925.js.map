{"version":3,"file":"ui-input-range.stories-fc133925.js","sources":["../../src/components/ui-input-range/ui-input-range.vue"],"sourcesContent":["<template>\n\t<div\n\t\tclass=\"ui-input-range relative h-lg mx-xs py-xs box-content\"\n\t>\n\t\t<input\n\t\t\tref=\"track\"\n\t\t\tv-model.number=\"rangeModel\"\n\t\t\tclass=\"appearance-none absolute top-0 left-0 cursor-pointer bg-transparent w-full h-full\"\n\t\t\ttype=\"range\"\n\t\t\t:min=\"min\"\n\t\t\t:max=\"max\"\n\t\t\t:step=\"step\"\n\t\t\t@touchmove=\"moveHandler\"\n\t\t>\n\t\t<div\n\t\t\tclass=\"ui-input-range__line h-xs w-full bg-secondary-alt rounded absolute left-0 -z-10 -translate-y-1/2\"\n\t\t/>\n\t\t<div\n\t\t\tclass=\"ui-input-range__line h-xs bg-primary rounded absolute left-0 -z-10 -translate-y-1/2\"\n\t\t\t:style=\"{\n\t\t\t\twidth: getPercentage + '%',\n\t\t\t}\"\n\t\t/>\n\n\t\t<div\n\t\t\tclass=\"\n\t\t\t\tui-input-range__thumb\n\t\t\t\tw-xs\n\t\t\t\th-xs\n\t\t\t\tbg-primary\n\t\t\t\tabsolute\n\t\t\t\tborder-white\n\t\t\t\trounded-full\n\t\t\t\tbox-content\n\t\t\t\t-translate-y-1/2\n\t\t\t\t-translate-x-1/2\n\t\t\t\tpointer-events-none\n\t\t\t\"\n\t\t\t:style=\"{left: getPercentage + '%'}\"\n\t\t/>\n\t</div>\n</template>\n\n<script lang=\"ts\" setup>\n\timport { computed, ref } from \"vue\";\n\n\tconst props = defineProps<{\n\t\tmodelValue: number;\n\t\tmin: string | number;\n\t\tmax: string | number;\n\t\tstep: string | number;\n\t}>();\n\n\tconst emit = defineEmits<{\n\t\t(e: \"update:modelValue\", state: number): void\n\t}>();\n\n\tconst rangeModel = computed({\n\t\tget() {\n\t\t\treturn props.modelValue;\n\t\t},\n\t\tset(value) {\n\t\t\temit(\"update:modelValue\", value);\n\t\t}\n\t});\n\n\tconst track = ref();\n\n\tconst getPercentage = computed(() => {\n\t\treturn Math.round(((+props.modelValue - +props.min) / (+props.max - +props.min)) * 100);\n\t});\n\n\tconst parseMouseMove = (e: MouseEvent | TouchEvent) => {\n\t\tif(track.value){\n\t\t\tconst CLICK = \"clientX\";\n\n\t\t\tconst {\n\t\t\t\tleft: trackStart,\n\t\t\t\twidth: trackLength,\n\t\t\t} = track.value.getBoundingClientRect();\n\n\t\t\tconst clickOffset = \"touches\" in e ? e.touches[0][CLICK] : e[CLICK];\n\n\t\t\t// It is possible for left to be NaN, force to number\n\t\t\tconst clickPos = Math.min(Math.max((clickOffset - trackStart ) / trackLength, 0), 1) || 0;\n\n\t\t\tconst mousePositionInPercent = parseFloat(String(props.min)) + clickPos * (+props.max - +props.min);\n\n\t\t\tconst newValue = Math.round((mousePositionInPercent) / +props.step) * +props.step;\n\n\t\t\treturn parseFloat(Math.min(newValue, +props.max).toFixed(2));\n\t\t}\n\t};\n\n\tconst moveHandler = (e: MouseEvent | TouchEvent) => {\n\t\trangeModel.value = parseMouseMove(e) || 0;\n\t};\n\n</script>\n\n<style scoped>\n\tinput[type=\"range\"]::-webkit-slider-thumb {\n\t\tappearance: none;\n\t\theight: 10px;\n\t\twidth: 10px;\n\t\ttransform: scale(4);\n\t\tbackground-color: transparent;\n\t\tborder: 0;\n\t\tbox-shadow: none;\n\t}\n\n\tinput[type=\"range\"]::-moz-range-thumb {\n\t\tappearance: none;\n\t\tbackground-color: transparent;\n\t\tborder: 0;\n\t\tbox-shadow: none;\n\t}\n\n\t.ui-input-range__line {\n\t\ttop: 50%;\n\t}\n\n\t.ui-input-range__thumb {\n\t\ttop: 50%;\n\t\tborder-width: 12px;\n\t\tbox-shadow: 0 0 0 4px var(--color-primary);\n\t}\n</style>\n"],"names":["rangeModel","computed","props","value","emit","track","ref","getPercentage","parseMouseMove","e","CLICK","trackStart","trackLength","clickOffset","clickPos","mousePositionInPercent","newValue","moveHandler"],"mappings":"slBAyDOA,EAAaC,EAAS,CAC3B,KAAM,CACL,OAAOC,EAAM,UACd,EACA,IAAIC,EAAO,CACVC,EAAK,oBAAqBD,CAAK,CAChC,CAAA,CACA,EAEKE,EAAQC,IAERC,EAAgBN,EAAS,IACvB,KAAK,OAAQ,CAACC,EAAM,WAAa,CAACA,EAAM,MAAQ,CAACA,EAAM,IAAM,CAACA,EAAM,KAAQ,GAAG,CACtF,EAEKM,EAAkBC,GAA+B,CACtD,GAAGJ,EAAM,MAAM,CACd,MAAMK,EAAQ,UAER,CACL,KAAMC,EACN,MAAOC,CAAA,EACJP,EAAM,MAAM,wBAEVQ,EAAc,YAAaJ,EAAIA,EAAE,QAAQ,CAAC,EAAEC,CAAK,EAAID,EAAEC,CAAK,EAG5DI,EAAW,KAAK,IAAI,KAAK,KAAKD,EAAcF,GAAeC,EAAa,CAAC,EAAG,CAAC,GAAK,EAElFG,EAAyB,WAAW,OAAOb,EAAM,GAAG,CAAC,EAAIY,GAAY,CAACZ,EAAM,IAAM,CAACA,EAAM,KAEzFc,EAAW,KAAK,MAAOD,EAA0B,CAACb,EAAM,IAAI,EAAI,CAACA,EAAM,KAEtE,OAAA,WAAW,KAAK,IAAIc,EAAU,CAACd,EAAM,GAAG,EAAE,QAAQ,CAAC,CAAC,EAC5D,EAGKe,EAAeR,GAA+B,CACxCT,EAAA,MAAQQ,EAAeC,CAAC,GAAK,CAAA;;;;;;;;;;;;;;;;;;"}