{"version":3,"file":"ui-input-range.stories-7594d47e.js","sources":["../../src/components/ui-input-range/ui-input-range.vue"],"sourcesContent":["<template>\n\t<div\n\t\tclass=\"ui-input-range relative box-content h-lg py-xs\"\n\t>\n\t\t<input\n\t\t\tref=\"track\"\n\t\t\tv-model.number=\"rangeModel\"\n\t\t\tclass=\"absolute left-0 top-0 h-full w-full cursor-pointer appearance-none bg-transparent\"\n\t\t\ttype=\"range\"\n\t\t\t:min=\"min\"\n\t\t\t:max=\"max\"\n\t\t\t:step=\"step\"\n\t\t\t@touchmove=\"moveHandler\"\n\t\t>\n\n\t\t<div\n\t\t\tclass=\"pointer-events-none absolute left-0 top-1/2 h-xs w-full -translate-y-1/2 rounded bg-secondary-alt\"\n\t\t/>\n\n\t\t<div\n\t\t\tclass=\"pointer-events-none absolute left-0 top-1/2 h-xs -translate-y-1/2 rounded bg-primary\"\n\t\t\t:style=\"{\n\t\t\t\twidth: getPercentage + '%',\n\t\t\t}\"\n\t\t/>\n\n\t\t<div\n\t\t\tclass=\"\n\t\t\t\tui-input-range__thumb\n\t\t\t\tpointer-events-none\n\t\t\t\tabsolute\n\t\t\t\tbox-content\n\t\t\t\th-xs\n\t\t\t\tw-xs\n\t\t\t\t-translate-x-1/2\n\t\t\t\t-translate-y-1/2\n\t\t\t\trounded-full\n\t\t\t\tborder-white\n\t\t\t\tbg-primary\n\t\t\t\"\n\t\t\t:style=\"{left: getPercentage + '%'}\"\n\t\t/>\n\t</div>\n</template>\n\n<script lang=\"ts\" setup>\n\timport { computed, ref, watch } from \"vue\";\n\n\tconst props = defineProps<{\n\t\tmodelValue: number;\n\t\tmin: string | number;\n\t\tmax: string | number;\n\t\tstep: string | number;\n\t}>();\n\n\tconst emit = defineEmits<{\n\t\t(e: \"update:modelValue\", state: number): void\n\t}>();\n\n\tconst rangeModel = computed({\n\t\tget() {\n\t\t\treturn props.modelValue;\n\t\t},\n\t\tset(value) {\n\t\t\temit(\"update:modelValue\", value);\n\t\t}\n\t});\n\n\twatch(()=>[props.min, props.max], () => {\n\t\tif (rangeModel.value < +props.min) {\n\t\t\trangeModel.value = +props.min;\n\t\t} else if (rangeModel.value > +props.max) {\n\t\t\trangeModel.value = +props.max;\n\t\t}\n\t});\n\n\tconst track = ref();\n\n\tconst getPercentage = computed(() => {\n\t\treturn Math.round(((+props.modelValue - +props.min) / (+props.max - +props.min)) * 100);\n\t});\n\n\tconst parseMouseMove = (e: MouseEvent | TouchEvent) => {\n\t\tif (track.value) {\n\t\t\tconst CLICK = \"clientX\";\n\n\t\t\tconst {\n\t\t\t\tleft: trackStart,\n\t\t\t\twidth: trackLength,\n\t\t\t} = track.value.getBoundingClientRect();\n\n\t\t\tconst clickOffset = \"touches\" in e ? e.touches[0][CLICK] : e[CLICK];\n\n\t\t\t// It is possible for left to be NaN, force to number\n\t\t\tconst clickPos = Math.min(Math.max((clickOffset - trackStart ) / trackLength, 0), 1) || 0;\n\n\t\t\tconst mousePositionInPercent = parseFloat(String(props.min)) + clickPos * (+props.max - +props.min);\n\n\t\t\tconst newValue = Math.round((mousePositionInPercent) / +props.step) * +props.step;\n\n\t\t\treturn parseFloat(Math.min(newValue, +props.max).toFixed(2));\n\t\t}\n\t};\n\n\tconst moveHandler = (e: MouseEvent | TouchEvent) => {\n\t\tconst newValue = parseMouseMove(e);\n\n\t\tif (newValue) {\n\t\t\trangeModel.value = newValue;\n\t\t}\n\t};\n\n</script>\n\n<style scoped>\n\tinput[type=\"range\"]::-webkit-slider-thumb {\n\t\tappearance: none;\n\t\theight: 10px;\n\t\twidth: 10px;\n\t\ttransform: scale(4);\n\t\tbackground-color: transparent;\n\t\tborder: 0;\n\t\tbox-shadow: none;\n\t}\n\n\tinput[type=\"range\"]::-moz-range-thumb {\n\t\tappearance: none;\n\t\tbackground-color: transparent;\n\t\tborder: 0;\n\t\tbox-shadow: none;\n\t}\n\n\t.ui-input-range__thumb {\n\t\ttop: 50%;\n\t\tborder-width: 12px;\n\t\tbox-shadow: 0 0 0 4px var(--color-primary);\n\t}\n</style>\n"],"names":["rangeModel","computed","props","value","emit","watch","track","ref","getPercentage","parseMouseMove","e","CLICK","trackStart","trackLength","clickOffset","clickPos","mousePositionInPercent","newValue","moveHandler"],"mappings":"wjBA2DOA,EAAaC,EAAS,CAC3B,KAAM,CACL,OAAOC,EAAM,UACd,EACA,IAAIC,EAAO,CACVC,EAAK,oBAAqBD,CAAK,CAChC,CAAA,CACA,EAEDE,EAAM,IAAI,CAACH,EAAM,IAAKA,EAAM,GAAG,EAAG,IAAM,CACnCF,EAAW,MAAQ,CAACE,EAAM,IAClBF,EAAA,MAAQ,CAACE,EAAM,IAChBF,EAAW,MAAQ,CAACE,EAAM,MACzBF,EAAA,MAAQ,CAACE,EAAM,IAC3B,CACA,EAED,MAAMI,EAAQC,IAERC,EAAgBP,EAAS,IACvB,KAAK,OAAQ,CAACC,EAAM,WAAa,CAACA,EAAM,MAAQ,CAACA,EAAM,IAAM,CAACA,EAAM,KAAQ,GAAG,CACtF,EAEKO,EAAkBC,GAA+B,CACtD,GAAIJ,EAAM,MAAO,CAChB,MAAMK,EAAQ,UAER,CACL,KAAMC,EACN,MAAOC,CAAA,EACJP,EAAM,MAAM,wBAEVQ,EAAc,YAAaJ,EAAIA,EAAE,QAAQ,CAAC,EAAEC,CAAK,EAAID,EAAEC,CAAK,EAG5DI,EAAW,KAAK,IAAI,KAAK,KAAKD,EAAcF,GAAeC,EAAa,CAAC,EAAG,CAAC,GAAK,EAElFG,EAAyB,WAAW,OAAOd,EAAM,GAAG,CAAC,EAAIa,GAAY,CAACb,EAAM,IAAM,CAACA,EAAM,KAEzFe,EAAW,KAAK,MAAOD,EAA0B,CAACd,EAAM,IAAI,EAAI,CAACA,EAAM,KAEtE,OAAA,WAAW,KAAK,IAAIe,EAAU,CAACf,EAAM,GAAG,EAAE,QAAQ,CAAC,CAAC,CAC5D,CAAA,EAGKgB,EAAeR,GAA+B,CAC7C,MAAAO,EAAWR,EAAeC,CAAC,EAE7BO,IACHjB,EAAW,MAAQiB,EACpB;;;;;;;;;;;;;;;;;;;;;;"}